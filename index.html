<head>
    <script src="./resources/js/polygen.js"></script>
    <script src="./resources/js/functions.js"></script>
    <link rel="stylesheet" type="text/css" href="./resources/style.css">
</head>

<body>
    <form name="form">
        <select id="sidesmenu">
            <option value="">Select a shape by number of sides</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select>
    </form>
    
    <canvas id="canvas" width="512" height="512"></canvas>
    <script id="shapes">
        // setup canvas
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        canvas.style.display= 'block';
        canvas.style.height = 512;
        canvas.style.width = 512;
        // initialize things for shape drawing
        var shapeRadius = 150;
        var centerX = canvas.width / 2;
        var centerY = canvas.height / 2;


        // when a menu option is selected
        document.getElementById('sidesmenu').addEventListener("click", function(){ 
            context.clearRect(0, 0, canvas.width, canvas.height); // clear canvas
            sidesCount = document.getElementById('sidesmenu').value; // get menu selection
            PolyGen(sidesCount, document.querySelector("canvas"), 0, shapeRadius, 5, "#222", 0, 0);
            // draw game circle
            context.arc(centerX, centerY, shapeRadius, 0, 2 * Math.PI, false); 
            context.lineWidth = 1;
            context.stroke();
        });

        setInterval(drawMagnet,10); // calls draw functions every 10 ms
        setInterval(drawPuck,10);
    </script>

    <img id="magnet" src="./resources/magnet.png" alt="HTML5 Icon"/>
    <img id="puck" src="./resources/puck.png" alt="HTML5 Icon"/>

    <script id="mouse">
        var midX = (canvas.width/2); // get coordinates of middle of the canvas
        var midY = (canvas.height/2);
        var mousePos = {x: midX, y: midY};
        var puckPos = {x: midX, y: midY};
        function getMousePos(canvas, evt) {
            var rect = canvas.getBoundingClientRect();
            return { x: evt.clientX - rect.left, y: evt.clientY - rect.top }
        }
        // every time 'mousemove' event occurs, call getMousePos
        canvas.addEventListener('mousemove', function(evt) {mousePos = getMousePos(canvas, evt);}, false);     
    </script>
</body>